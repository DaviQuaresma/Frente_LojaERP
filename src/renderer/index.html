<!-- @format -->

<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<title>Painel de Vendas ERP</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet" />
	</head>
	<body class="bg-light">
		<div class="fw-lighter p-2">v1.4.16</div>
		<div class="container py-5">
			<h1
				class="text-center mb-4"
				id="tituloEmpresa">
				Painel de Vendas ERP
			</h1>

			<ul
				class="nav nav-tabs mb-4 justify-content-center"
				id="tabs"
				role="tablist">
				<li
					class="nav-item"
					role="presentation">
					<button
						class="nav-link active"
						id="venda-tab"
						data-bs-toggle="tab"
						data-bs-target="#venda"
						type="button"
						role="tab">
						üõí Venda Manual
					</button>
				</li>
				<li
					class="nav-item"
					role="presentation">
					<button
						class="nav-link"
						id="historico-tab"
						data-bs-toggle="tab"
						data-bs-target="#historico"
						type="button"
						role="tab">
						üìú Hist√≥rico de Vendas
					</button>
				</li>
				<li
					class="nav-item"
					role="presentation">
					<button
						class="nav-link"
						id="config-tab"
						data-bs-toggle="tab"
						data-bs-target="#config"
						type="button"
						role="tab">
						‚öôÔ∏è Configura√ß√µes
					</button>
				</li>
			</ul>

			<div
				class="tab-content"
				id="tabsContent">
				<!-- Venda Manual -->
				<div
					class="tab-pane fade show active"
					id="venda"
					role="tabpanel"
					aria-labelledby="venda-tab">
					<div
						class="card shadow p-4 mx-auto"
						style="max-width: 500px">
						<div class="mb-3">
							<label
								for="valor"
								class="form-label"
								>Valores Alvo (R$)</label
							>
							<input
								id="valor"
								type="text"
								class="form-control"
								placeholder="Ex: 30, 40, 50" />
							<div class="form-text">Separe m√∫ltiplos valores com v√≠rgula.</div>
						</div>

						<button
							id="botaoCriar"
							class="btn btn-primary w-100">
							Gerar Venda
						</button>
						<div
							id="resultado"
							class="mt-3 fw-bold text-center"></div>

						<!-- ‚ö†Ô∏è Bloco fixo para erros de estoque -->
						<div
							id="errosEstoque"
							class="mt-4 d-none">
							<div class="alert alert-warning">
								<h5 class="mb-3">‚ö†Ô∏è Produtos sem estoque suficiente:</h5>
								<div class="table-responsive">
									<table class="table table-sm table-bordered">
										<thead class="table-light">
											<tr>
												<th>C√≥digo</th>
												<th>Descri√ß√£o</th>
												<th>Estoque atual</th>
											</tr>
										</thead>
										<tbody id="tabelaSemEstoque"></tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Hist√≥rico de Vendas -->
				<div
					class="tab-pane fade"
					id="historico"
					role="tabpanel"
					aria-labelledby="historico-tab">
					<div class="card shadow p-4">
						<h4 class="mb-3 text-center">√öltimas Vendas Registradas</h4>
						<div class="table-responsive">
							<div class="d-flex justify-content-end mb-3 gap-2">
								<select
									id="filtroOrderBy"
									class="form-select">
									<option value="data">Ordenar por Data</option>
									<option value="total">Ordenar por Valor</option>
									<option value="qtdItens">Ordenar por Itens</option>
								</select>
								<select
									id="filtroDirection"
									class="form-select">
									<option value="desc">Descendente</option>
									<option value="asc">Ascendente</option>
								</select>
							</div>
							<table class="table table-bordered table-hover">
								<thead class="table-light">
									<tr>
										<th>#</th>
										<th>Total (R$)</th>
										<th>Itens</th>
										<th>Data</th>
									</tr>
								</thead>
								<tbody id="tabelaVendas">
									<tr>
										<td
											colspan="4"
											class="text-center">
											Carregando vendas...
										</td>
									</tr>
								</tbody>
							</table>
							<div
								class="d-flex justify-content-center mt-3"
								id="paginacaoContainer"></div>
						</div>
					</div>
				</div>

				<!-- Configura√ß√µes -->
				<div
					class="tab-pane fade"
					id="config"
					role="tabpanel"
					aria-labelledby="config-tab">
					<div class="card shadow p-4">
						<h4 class="mb-4 text-center">‚öôÔ∏è Configura√ß√µes do Sistema</h4>

						<ul
							class="nav nav-pills mb-3 justify-content-center"
							id="subConfigTabs">
							<li class="nav-item">
								<button
									class="nav-link active"
									id="tab-banco"
									data-bs-toggle="pill"
									data-bs-target="#abaBanco"
									type="button">
									üîå Conex√£o com Banco
								</button>
							</li>
							<li class="nav-item">
								<button
									class="nav-link"
									id="tab-banco-ativo"
									data-bs-toggle="pill"
									data-bs-target="#abaBancoAtivo"
									type="button">
									üìÇ Selecionar Banco Ativo
								</button>
							</li>
						</ul>

						<div
							class="tab-content"
							id="subConfigContent">
							<!-- Aba Banco -->
							<div
								class="tab-pane fade show active"
								id="abaBanco">
								<div
									class="mx-auto"
									style="max-width: 500px">
									<div class="mb-3">
										<label
											for="cfg-host"
											class="form-label"
											>Host</label
										>
										<input
											id="cfg-host"
											class="form-control"
											placeholder="Ex: localhost" />
									</div>
									<div class="mb-3">
										<label
											for="cfg-port"
											class="form-label"
											>Porta</label
										>
										<input
											id="cfg-port"
											class="form-control"
											type="number"
											placeholder="5432" />
									</div>
									<div class="mb-3">
										<label
											for="cfg-user"
											class="form-label"
											>Usu√°rio</label
										>
										<input
											id="cfg-user"
											class="form-control"
											placeholder="postgres" />
									</div>
									<div class="mb-3">
										<label
											for="cfg-password"
											class="form-label"
											>Senha</label
										>
										<input
											id="cfg-password"
											class="form-control"
											type="password" />
									</div>
									<div class="mb-3">
										<label
											for="cfg-database"
											class="form-label"
											>Nome do Banco</label
										>
										<input
											id="cfg-database"
											class="form-control"
											placeholder="demonstracao" />
									</div>
									<div class="text-end">
										<button
											id="salvar-config-banco"
											class="btn btn-primary w-100">
											Salvar e Testar
										</button>
									</div>
									<div
										id="configStatus"
										class="text-center fw-bold mt-3"></div>
								</div>
							</div>
							<!-- Aba Selecionar Banco Ativo -->
							<div
								class="tab-pane fade"
								id="abaBancoAtivo">
								<div
									class="mx-auto"
									style="max-width: 500px">
									<h5 class="text-center mb-3">Selecione um Banco Salvo</h5>
									<select
										id="selectBancoSalvo"
										class="form-select mb-3"></select>
									<button
										id="btnAtivarBanco"
										class="btn btn-success w-100">
										Ativar Banco Selecionado
									</button>
									<div
										id="ativacaoStatus"
										class="text-center fw-bold mt-3"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
			defer></script>
		<script
			src="./index.js"
			defer></script>
	</body>
</html>
